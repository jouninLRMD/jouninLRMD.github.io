---
layout: post
title: "Sesión 05"
main-class: 'clase'
permalink: /SemilleroRyPython/SRyP:title.html
tags:

introduction: |
              R<br>
              - Estructuras de control <br>
              &nbsp * Condicionales<br>
              &nbsp * Ciclos<br>
              - Funciones
              
header-includes:
   - \usepackage{amsmath,amssymb,amsthm,amsfonts}
   - \usepackage[sectionbib]{natbib}
   - \usepackage[hidelinks]{hyperref}
output:
  md_document:
    variant: markdown_strict+backtick_code_blocks+autolink_bare_uris+ascii_identifiers+tex_math_single_backslash
    preserve_yaml: TRUE
always_allow_html: yes   
knit: (function(inputFile, encoding) {
  rmarkdown::render(inputFile, encoding = encoding,
  output_dir = "../../SemilleroRyPython/_posts/", output_format = "all"  ) })
bibliography: "../../referencias.bib"
csl: "../../apa.csl"
link-citations: yes
---







Funciones que se introducen en esta sesión
------------------------------------------

En ésta sesión se introducen las siguientes funciones

-   <tt>if</tt>: es usado cuando deseamos que una operación se ejecute
    únicamente cuando una condición se cumple.
-   <tt>else</tt>: es un complemento de la función <tt>if</tt>, y es
    usado para indicarle a <tt>R</tt> qué hacer en caso de la condición
    de un <tt>if</tt> no se cumpla.
-   <tt>ifelse</tt>: es una función vectorizada de las instrucciones
    <tt>if/else</tt> y permite establecer una instrucción en caso de que
    una condición previamente determinada se cumpla, y otra instrucción
    en caso de que la condición no se cumpla.
-   <tt>for</tt>: es usado para generar ciclos un número específico de
    veces.
-   <tt>while</tt>: es usado para generar ciclos a partir de una
    condición específica.
-   <tt>repeat</tt>: es usado para generar ciclos un número indefinido
    de veces.
-   <tt>next</tt>: es usado para finalizar la corrida de uno de los
    ciclos e iniciar el siguiente.
-   <tt>break</tt>: es usado para finalizar cualquier ciclo.
-   <tt>function</tt>: es usado para crear nuevas funciones.
-   <tt>return</tt>: es usado dentro de la función <tt>function</tt>
    para devolver un resultado en específico.

Qué es una estructura de control?
---------------------------------

Las estructuras de control son instrucciones que permiten controlar la
forma en que se ejecutará una secuencia de comandos, puesto que dan la
posibilidad de establecer funciones en el código que permitan ejecutar o
no algunas secuencias de código, o ejecutar repetidamente fragmentos de
código una y otra vez.

Qué es un condicional?
----------------------

Los condicionales son acciones usadas en programación, que **permiten
que se ejecute un conjuntos de instrucciones, en función de si se cumple
o no una condición establecida previamente**.

Funciones condicionales en <tt>R</tt>
-------------------------------------

Existen dos funciones básicas en <tt>R</tt> que permiten establecer
condiciones para la ejecución de fragmentos de código, y están dadas por
las funciones <tt>if/else</tt>, <tt>ifelse</tt>.

La función <tt>if()</tt> permite ejecutar una secuencia de código basada
en una condición preestablecida, y puede emplearse de dos formas
diferentes. La primera, es mediante el empleo de la función
<tt>if()</tt> de forma individual, que puede interpretarse como un
*“<strong>Si</strong> se cumple la condición,
<strong>entonces</strong>…”*

``` r
if(<condición>) {
  # Fragmento de código que se ejecuta en caso de que la condición sea verdadera
}
```

La segunda, es mediante el empleo de la función <tt>if()</tt> seguido de
la función <tt>else</tt>, que puede interpretarse como un
*“<strong>Si</strong> se cumple la condición,
<strong>entonces</strong>…, <strong>Si no</strong> se cumple la
condición, <strong>entonces</strong>…”*

``` r
if(<condición>) {
  # Fragmento de código que se ejecuta en caso de que la condición es verdadera
} else {
  # Fragmento de código que se ejecuta en caso de que la condición es falta
}
```

Es de anotar, que la condición que se establece dentro del paréntesis de
la función <tt>if()</tt>, suele establecerse mediante el empleo de
[Operadores
lógicos](../../SemilleroRyPython/SRyPSesion01.html#operadores-lógicos){:target="\_blank"}.

La estructura vista de las funciones <tt>if/else</tt> puede emplearse
repetidas veces, si se desean establecer condicionales anidados, de la
forma

``` r
if(<condición>) {
  # Fragmento de código que se ejecuta en caso de que la condición es verdadera
} else if(<condición>) {
  # Fragmento de código que se ejecuta en caso de que la condición inicial es falsa y la condición anidada es verdadera
} else {
  # Fragmento de código que se ejecuta en caso de que la condición inicial es falsa y la condición anidada es falsa
}
```

Por su parte la función <tt>ifelse()</tt> que permite vectorizar la
construcción <tt>if/else</tt>, para que se aplique la condición
establecida a todos y cada uno de los elementos pertenecientes a un
vector. La función <tt>ifelse()</tt> posee la siguiente estructura

``` r
ifelse(<condición>, <Operación si es verdadera>, <Operación si es falsa>)}
```

<button id="Show1" class="btn btn-secondary">
Mostrar Ejemplo en <tt>R</tt>
</button>
<button id="Hide1" class="btn btn-info">
Ocultar Ejemplo en <tt>R</tt>
</button>
<main id="botoncito1">
<h3 data-toc-skip>
Función <tt>if</tt>
</h3>
<p>
Establezca una semilla con número \(1754\), realice la selección
aleatoria de dos números entre el \(1\) y el \(10\) sin remplazo, y
calcule una variable \(X\) igual a la resta entre el primero y el
segundo número. Establezca un condicional que evalué la variable \(X\) e
imprima el mensaje <i>“La resta es negativa”</i>, si se encuentra que la
resta es menor a \(0\).
</p>
<section class="language-r highlighter-rouge">
<section class="highlight">
<pre class="highlight"><code><span class="n">set.seed</span><span class="p">(</span><span class="m">1754</span><span class="p">)</span><span class="w">  </span><span class="c1"># Se establece la semilla</span><span class="w">
</span><span class="n">A</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">sample</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="o">:</span><span class="m">10</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="n">replace</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">F</span><span class="p">)</span><span class="w">  </span><span class="c1"># Se crean los dos números aleatorios</span><span class="w">
</span><span class="n">A</span><span class="w">
</span></code></pre>
</section>
</section>
<section class="highlighter-rouge">
<section class="highlight">
<pre class="highlight"><code>[1] 1 5
</code></pre>
</section>
</section>
<section class="language-r highlighter-rouge">
<section class="highlight">
<pre class="highlight"><code><span class="n">X</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">A</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">A</span><span class="p">[</span><span class="m">2</span><span class="p">]</span><span class="w">  </span><span class="c1"># Se realiza la resta del primer dato menos el segundo</span><span class="w">
</span><span class="n">X</span><span class="w">
</span></code></pre>
</section>
</section>
<section class="highlighter-rouge">
<section class="highlight">
<pre class="highlight"><code>[1] -4
</code></pre>
</section>
</section>
<section class="language-r highlighter-rouge">
<section class="highlight">
<pre class="highlight"><code><span class="c1"># Se crea el condicional</span><span class="w">
</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">X</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="m">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="n">print</span><span class="p">(</span><span class="s2">"La resta es negativa"</span><span class="p">)</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</section>
</section>
<section class="highlighter-rouge">
<section class="highlight">
<pre class="highlight"><code>[1] "La resta es negativa"
</code></pre>
</section>
</section>
<h3 data-toc-skip>
Función <tt>if/else</tt>
</h3>
<p>
Establezca una semilla con número \(143\), realice la selección
aleatoria de un número entre el \(-10\) y el \(10\), sin incluir el
\(0\). Si el número generado es positivo imprima el mensaje <i>“El
número generado es positivo e igual a”</i> seguido del número generado,
en caso de que se cumpla la condición imprima el mensaje <i>“El número
generado es negativo e igual a”</i> seguido del número.
</p>
<section class="language-r highlighter-rouge">
<section class="highlight">
<pre class="highlight"><code><span class="n">set.seed</span><span class="p">(</span><span class="m">143</span><span class="p">)</span><span class="w">  </span><span class="c1"># Se establece la semilla</span><span class="w">
</span><span class="n">datos</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">-10</span><span class="o">:</span><span class="m">-1</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="o">:</span><span class="m">10</span><span class="p">)</span><span class="w">  </span><span class="c1"># Se crea secuencia de números sin el cero</span><span class="w">
</span><span class="n">datos</span><span class="w">
</span></code></pre>
</section>
</section>
<section class="highlighter-rouge">
<section class="highlight">
<pre class="highlight"><code> [1] -10  -9  -8  -7  -6  -5  -4  -3  -2  -1   1   2   3   4   5   6   7
[18]   8   9  10
</code></pre>
</section>
</section>
<section class="language-r highlighter-rouge">
<section class="highlight">
<pre class="highlight"><code><span class="n">B</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">sample</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">datos</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="p">)</span><span class="w">  </span><span class="c1"># Se crean el número números aleatorios</span><span class="w">
</span><span class="n">B</span><span class="w">
</span></code></pre>
</section>
</section>
<section class="highlighter-rouge">
<section class="highlight">
<pre class="highlight"><code>[1] -5
</code></pre>
</section>
</section>
<section class="language-r highlighter-rouge">
<section class="highlight">
<pre class="highlight"><code><span class="c1"># Se crea el condicional</span><span class="w">
</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">B</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="m">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="n">print</span><span class="p">(</span><span class="n">paste</span><span class="p">(</span><span class="s2">"El número generado es positivo e igual a"</span><span class="p">,</span><span class="w"> </span><span class="n">B</span><span class="p">))</span><span class="w">
</span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="n">print</span><span class="p">(</span><span class="n">paste</span><span class="p">(</span><span class="s2">"El número generado es negativo e igual a"</span><span class="p">,</span><span class="w"> </span><span class="n">B</span><span class="p">))</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</section>
</section>
<section class="highlighter-rouge">
<section class="highlight">
<pre class="highlight"><code>[1] "El número generado es negativo e igual a -5"
</code></pre>
</section>
</section>
<section class="highlighter-rouge">
<section class="highlight">
<pre class="highlight"><code>[1] "La resta es negativa"
</code></pre>
</section>
</section>
<h3 data-toc-skip>
Función <tt>ifelse</tt>
</h3>
<p>
Tome todas las letras del abecedario, y cree una variable \(C\) mediante
un condicional, que clasifique las letras entre vocales y consonantes, e
imprima el resultado junto con la vocal asociada
</p>
<section class="language-r highlighter-rouge">
<section class="highlight">
<pre class="highlight"><code><span class="c1"># Se crea el condicional</span><span class="w">
</span><span class="n">C</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">ifelse</span><span class="p">(</span><span class="nb">letters</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">"a"</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nb">letters</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">"e"</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nb">letters</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">"i"</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nb">letters</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">"o"</span><span class="w"> </span><span class="o">|</span><span class="w"> 
    </span><span class="nb">letters</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">"u"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Vocal"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Consonante"</span><span class="p">)</span><span class="w">
</span><span class="c1"># Se crea vector con letras y constantes</span><span class="w">
</span><span class="n">data.frame</span><span class="p">(</span><span class="n">Letras</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">letters</span><span class="p">,</span><span class="w"> </span><span class="n">Clasificaci</span><span class="err">ó</span><span class="n">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">C</span><span class="p">)</span><span class="w">
</span></code></pre>
</section>
</section>
<section class="highlighter-rouge">
<section class="highlight">
<pre class="highlight"><code>   Letras Clasificación
1       a         Vocal
2       b    Consonante
3       c    Consonante
4       d    Consonante
5       e         Vocal
6       f    Consonante
7       g    Consonante
8       h    Consonante
9       i         Vocal
10      j    Consonante
11      k    Consonante
12      l    Consonante
13      m    Consonante
14      n    Consonante
15      o         Vocal
16      p    Consonante
17      q    Consonante
18      r    Consonante
19      s    Consonante
20      t    Consonante
21      u         Vocal
22      v    Consonante
23      w    Consonante
24      x    Consonante
25      y    Consonante
26      z    Consonante
</code></pre>
</section>
</section>
</main>

Qué es un ciclo?
----------------

Un ciclo o bucle, es una acción que tiene por objetivo **replicar una o
un secuencia de instrucciones** un número determinado de veces con
cambios menores, a través de uno o varios índices, hasta que se cumpla
una condición o un límite máximo de iteraciones establecidas previamente
en la construcción del ciclo.

Funciones para ciclos en <tt>R</tt>
-----------------------------------

Para el caso de los ciclos, existen tres funciones básicas en <tt>R</tt>
que **permiten realizar bucles, es decir, fragmentos de código que se
repiten una y otra vez, sin tener que escribir varias veces el mismo
fragmento de código**. Estas funciones están dadas por <tt>for</tt>,
<tt>while</tt> y <tt>repeat</tt>. Adicionalmente, se presenta la función
<tt>break</tt> el cual sirve para detener cualquier ciclo y la función
<tt>next</tt> que sirve para dejar de ejecutar el resto de un ciclo y
pasa a ejecutar el siguiente.

La función <tt>for()</tt> **permite ejecutar una secuencia de código un
número específico de veces, a partir un índice que se establece mediante
una secuencia numérica, vector o lista**. El ciclo se ejecutará para
cada valor si es una secuencia numérica, recorrerá cada valor si es un
vector o para cada elemento sucesivo si es una lista. La estructura de
la función <tt>for</tt> está dada por

``` r
for(<índice> in <secuencia>) {
  # Fragmento de código que se ejecuta una y otra vez
}
```

Por su parte, la función <tt>while</tt> **permite establecer una
condición lógica, para repetir un ciclo un sin número de veces, hasta
que dicha condición lógica se cumpla**. La condición establecida, suele
escribirse generalmente mediante el empleo de [Operadores
lógicos](../../SemilleroRyPython/SRyPSesion01.html#operadores-lógicos){:target="\_blank"}
o mediante la comparación entre una variable de control y un valor. La
estructura de la función <tt>while</tt> está dada por

``` r
while(<condición>) {
  # Fragmento de código que se ejecuta una y otra vez
}
```

Finalmente, se tiene la función <tt>repeat</tt> **permite repetir un
número indefinido de veces, hasta que se emplee el comando**
<tt>break</tt>. Por tanto, para emplear la función <tt>repeat</tt> será
necesario establecer un condicional dentro de la función, para que pueda
usarse el comando <tt>break</tt>. La estructura de la función
<tt>repeat</tt> es de la forma

``` r
repeat {
    # Fragmento de código que se ejecuta una y otra vez
}
```

<button id="Show2" class="btn btn-secondary">
Mostrar Ejemplo en <tt>R</tt>
</button>
<button id="Hide2" class="btn btn-info">
Ocultar Ejemplo en <tt>R</tt>
</button>
<main id="botoncito2">
<h3 data-toc-skip>
Función <tt>for</tt>
</h3>
<p>
Cree una secuencia de número del \(6\) al \(25\), y calcule e imprima de
forma iterativa la raíz cuadrada de cada valor de la secuencia, mientras
que se cumpla la condición de que la raíz cuadrada es menor a \(4\).
</p>
<section class="language-r highlighter-rouge">
<section class="highlight">
<pre class="highlight"><code><span class="c1"># Se crea la secuencia del 1 al 20</span><span class="w">
</span><span class="n">seq</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">6</span><span class="o">:</span><span class="m">25</span><span class="w">
</span><span class="c1"># Creo variable vacía</span><span class="w">
</span><span class="n">raíces</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">numeric</span><span class="p">()</span><span class="w">
</span><span class="c1"># Se crea secuencia</span><span class="w">
</span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="m">1</span><span class="o">:</span><span class="nf">length</span><span class="p">(</span><span class="n">seq</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nf">sqrt</span><span class="p">(</span><span class="n">seq</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="m">4</span><span class="p">)</span><span class="w"> 
        </span><span class="k">break</span><span class="w">
    </span><span class="n">raíces</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">sqrt</span><span class="p">(</span><span class="n">seq</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="w">
</span><span class="p">}</span><span class="w">
</span><span class="c1"># Imprimir valor original junto a la raíz</span><span class="w">
</span><span class="n">data.frame</span><span class="p">(</span><span class="n">Originales</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">seq</span><span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="nf">length</span><span class="p">(</span><span class="n">raíces</span><span class="p">)],</span><span class="w"> </span><span class="n">Raíces</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">raíces</span><span class="p">)</span><span class="w">
</span></code></pre>
</section>
</section>
<section class="highlighter-rouge">
<section class="highlight">
<pre class="highlight"><code>   Originales   Raíces
1           6 2.449490
2           7 2.645751
3           8 2.828427
4           9 3.000000
5          10 3.162278
6          11 3.316625
7          12 3.464102
8          13 3.605551
9          14 3.741657
10         15 3.872983
</code></pre>
</section>
</section>
<h3 data-toc-skip>
Función <tt>while</tt>
</h3>
<p>
Establezca una semilla igual a \(184\), y haga la selección aleatoria de
un número entre el \(1\) y el \(100\). Cree un ciclo, con un contador de
iteraciones, en el cual se seleccione un número aleatorio entre \(1\) y
\(10\), y se le sume y reemplace el valor inicialmente generado. Repita
el ciclo hasta que el número final sea mayor a \(200\), y reporte el
número de iteraciones que fueron necesarias para llegar a dicho número.
</p>
<section class="language-r highlighter-rouge">
<section class="highlight">
<pre class="highlight"><code><span class="c1"># Se establece la semilla</span><span class="w">
</span><span class="n">set.seed</span><span class="p">(</span><span class="m">184</span><span class="p">)</span><span class="w">
</span><span class="c1"># Se realiza la selección aleatoria</span><span class="w">
</span><span class="n">seleccion</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">sample</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">100</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="p">)</span><span class="w">
</span><span class="c1"># Se crea contador de iteraciones</span><span class="w">
</span><span class="n">iteracion</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">0</span><span class="w">
</span><span class="c1"># Se crea secuencia</span><span class="w">
</span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">seleccion</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="m">200</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="n">crecimiento</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">sample</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">10</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="p">)</span><span class="w">
    </span><span class="n">seleccion</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">seleccion</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">crecimiento</span><span class="w">
    </span><span class="n">iteracion</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">iteracion</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span><span class="n">print</span><span class="p">(</span><span class="n">paste</span><span class="p">(</span><span class="s2">"El número de iteraciones necesarias fue de:"</span><span class="p">,</span><span class="w"> </span><span class="n">iteracion</span><span class="p">))</span><span class="w">
</span></code></pre>
</section>
</section>
<section class="highlighter-rouge">
<section class="highlight">
<pre class="highlight"><code>[1] "El número de iteraciones necesarias fue de: 21"
</code></pre>
</section>
</section>
<h3 data-toc-skip>
Función <tt>repeat</tt>
</h3>
<p>
Establezca una semilla igual a \(20\), y genere un número aleatorio de
una distribución normal con media \(18\) y varianza \(16\), para
emplearla como variable control. Cree un ciclo en cual se generen
números aleatorios de una distribución uniforme con límite inferior
\(6\) y límite superior \(30\), y guarde los resultados obtenidos en un
objeto, hasta que el número generado por la distribución uniforme sea
mayor al número generado inicialmente por la distribución normal.
Reporte el valor promedio, la desviación estándar obtenida por los
números generados al final del ciclo, junto con el número de iteraciones
realizadas.
</p>
<section class="language-r highlighter-rouge">
<section class="highlight">
<pre class="highlight"><code><span class="c1"># Se establece la semilla</span><span class="w">
</span><span class="n">set.seed</span><span class="p">(</span><span class="m">20</span><span class="p">)</span><span class="w">
</span><span class="c1"># Se genera el número aleatorio de una normal para control</span><span class="w">
</span><span class="n">control</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">rnorm</span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="n">mean</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">18</span><span class="p">,</span><span class="w"> </span><span class="n">sd</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">sqrt</span><span class="p">(</span><span class="m">16</span><span class="p">))</span><span class="w">
</span><span class="c1"># Se crea variable vacía para almacenar las variables uniformes</span><span class="w">
</span><span class="n">generados</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">numeric</span><span class="p">()</span><span class="w">
</span><span class="c1"># Se crea una variable de conteo de iteraciones</span><span class="w">
</span><span class="n">i</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">0</span><span class="w">
</span><span class="k">repeat</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">1</span><span class="w">
    </span><span class="n">generados</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">runif</span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="n">min</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">6</span><span class="p">,</span><span class="w"> </span><span class="n">max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">30</span><span class="p">)</span><span class="w">
    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">generados</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">control</span><span class="p">)</span><span class="w"> 
        </span><span class="k">break</span><span class="w">
</span><span class="p">}</span><span class="w">
</span><span class="n">data.frame</span><span class="p">(</span><span class="n">media</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mean</span><span class="p">(</span><span class="n">generados</span><span class="p">),</span><span class="w"> </span><span class="n">desv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sd</span><span class="p">(</span><span class="n">generados</span><span class="p">),</span><span class="w"> </span><span class="n">iteraciones</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w">
</span></code></pre>
</section>
</section>
<section class="highlighter-rouge">
<section class="highlight">
<pre class="highlight"><code>     media     desv iteraciones
1 20.16827 8.305253           3
</code></pre>
</section>
</section>
</main>

Por qué crear función?
----------------------

Una de las principales ventajas de usar un lenguaje de programación en
lugar de un programa que solo use funciones estáticas, es que te da la
libertar de crear funciones propias para facilitar o automatizar algunos
procesos que se usan recurrentemente, debido a que **es posible albergar
secuencias completas de código, dentro de una función para usarla
posteriormente**, sin tener que volver a realizar la misma programación
en el mismo código. Usualmente se crean funciones cuando hay que
realizar presentaciones, investigaciones o cuando se deba compartir el
código con el público.

Crear funciones en <tt>R</tt>
-----------------------------

Para definir funciones nuevas en <tt>R</tt> es necesario emplear la
función <tt>function</tt>, la cual posee una estructura de la forma

``` r
<nombre> <- function(<argumento1>, <argumento2>, <argumento3>, ...) {
  # Fragmento de código que se desea incorporar en la función
}
```

Una aspecto importante de las funciones es que éstas pueden dividirse en
`$3$` tipos de elementos diferentes. El primero, está asociado a los
**argumentos** que se le dan a la función, éstos pueden ser múltiples y
deben separarse por coma unos de otros. Adicionalmente, existe un
argumento en particular, dado por tres puntos consecutivos “`$\ldots$`”,
el cual permite pasar un número variable de argumentos de una función a
otra.

El segundo, está asociado al **cuerpo** que se le da a la función, es
decir, las operaciones que se desean ejecutar cuando se emplee la
función, en donde, estas operaciones suelen emplear los argumentos
anteriormente mencionados.

El tercer y último elemento, está asociado a los **resultados** que se
tendrán al emplear la función, es decir, el o los valores que entrega la
función una vez ésta realiza las operaciones que se han ejecutado en el
cuerpo. Usualmente, para entregar los resultados de la función, se suele
emplear la función <tt>return</tt>, en la cual se indicarán qué valores
son los que se desean devolver.

<button id="Show3" class="btn btn-secondary">
Mostrar Ejemplo en <tt>R</tt>
</button>
<button id="Hide3" class="btn btn-info">
Ocultar Ejemplo en <tt>R</tt>
</button>
<main id="botoncito3">
<h3 data-toc-skip>
Función <tt>function</tt>
</h3>
<p>
Cree una función que permita calcular la probabilidad de obtener más de
\(3\) caras en el lanzamiento de \(10\) monedas, y compare el resultado
obtenido con el de una distribución binomial.
</p>
<section class="language-r highlighter-rouge">
<section class="highlight">
<pre class="highlight"><code><span class="c1"># Se crea función la función</span><span class="w">
</span><span class="n">mipbinom</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="p">,</span><span class="w"> </span><span class="n">p</span><span class="p">,</span><span class="w"> </span><span class="n">izquierda</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">T</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="n">prob</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">numeric</span><span class="p">()</span><span class="w">
    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">izquierda</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">T</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="c1"># P(X&lt;=x)</span><span class="w">
        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">k</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="m">0</span><span class="o">:</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="n">prob</span><span class="p">[</span><span class="n">k</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">choose</span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n</span><span class="p">,</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">k</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">p</span><span class="o">^</span><span class="n">k</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="m">1</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">p</span><span class="p">)</span><span class="o">^</span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">k</span><span class="p">)</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">k</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">1</span><span class="p">)</span><span class="o">:</span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="c1"># P(X&gt;x)</span><span class="w">
            </span><span class="n">prob</span><span class="p">[</span><span class="n">k</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">x</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">choose</span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n</span><span class="p">,</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">k</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">p</span><span class="o">^</span><span class="n">k</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="m">1</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">p</span><span class="p">)</span><span class="o">^</span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">k</span><span class="p">)</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
    </span><span class="nf">return</span><span class="p">(</span><span class="n">Prob</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">sum</span><span class="p">(</span><span class="n">prob</span><span class="p">))</span><span class="w">
</span><span class="p">}</span><span class="w">
</span><span class="c1"># Se emplea función creada</span><span class="w">
</span><span class="n">mipbinom</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">10</span><span class="p">,</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0.5</span><span class="p">,</span><span class="w"> </span><span class="n">izquierda</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">F</span><span class="p">)</span><span class="w">
</span></code></pre>
</section>
</section>
<section class="highlighter-rouge">
<section class="highlight">
<pre class="highlight"><code>[1] 0.828125
</code></pre>
</section>
</section>
<section class="language-r highlighter-rouge">
<section class="highlight">
<pre class="highlight"><code><span class="c1"># Se emplea función binomial</span><span class="w">
</span><span class="n">pbinom</span><span class="p">(</span><span class="n">q</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">10</span><span class="p">,</span><span class="w"> </span><span class="n">prob</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0.5</span><span class="p">,</span><span class="w"> </span><span class="n">lower.tail</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">F</span><span class="p">)</span><span class="w">
</span></code></pre>
</section>
</section>
<section class="highlighter-rouge">
<section class="highlight">
<pre class="highlight"><code>[1] 0.828125
</code></pre>
</section>
</section>
</main>
